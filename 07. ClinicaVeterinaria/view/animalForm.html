<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animal Form</title>
</head>

<body>
    <script type="module">

        import { getAnimal } from '../service/AnimalService.js';

        function init() {
            const url = new URLSearchParams(window.location.search);
            let idAnimal = url.get("identificador");
            if (idAnimal) {

                const animal = getAnimal(idAnimal);
                document.getElementById("name").value = animal.name;

                if (animal.sex === "M") {
                    document.getElementById("sexM").checked = true;
                } else {
                    document.getElementById("sexF").checked = true;
                }

                if (animal.registryNumber === null) {
                    document.getElementById("registryNumber").value = "No disponible";
                } else {
                    document.getElementById("registryNumber").value = animal.registryNumber;
                }

                document.getElementById("type").value = animal.type;
            }
        }

        // window.addEventListener('load', init)

        (function() {
            init()
        })()

    </script>


    <label for="name">Nombre</label>
    <input type="text" name="name" id="name"> <br>

    <label for="sex">Sexo</label>
    <input type="radio" name="sexM" id="sexM" value="M"> M
    <input type="radio" name="sexF" id="sexF " value="F"> F <br>

    <label for="registryNumber">NÃºmero de registro</label>
    <input type="text" name="registryNumber" id="registryNumber"> <br>

    <label for="type">Tipo</label>
    <input type="text" name="type" id="type">

</body>

</html>